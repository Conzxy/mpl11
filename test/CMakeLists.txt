#=============================================================================
# Setup unit tests
#=============================================================================
add_custom_target(unit COMMENT "Build all the unit tests.")

function(mpl11_add_test name sources)
    add_executable(${name} ${sources})
    add_dependencies(unit ${name})
endfunction()


mpl11_add_test(always                   always.cpp)
mpl11_add_test(and_or                   and_or.cpp)
mpl11_add_test(apply                    apply.cpp)
mpl11_add_test(arg                      arg.cpp)
mpl11_add_test(arithmetic               arithmetic.cpp)
mpl11_add_test(bidirectional_sequence   bidirectional_sequence.cpp)
mpl11_add_test(bitwise                  bitwise.cpp)
mpl11_add_test(comparable               comparable.cpp)
mpl11_add_test(compose                  compose.cpp)
mpl11_add_test(detail_conditional       detail/conditional.cpp)
mpl11_add_test(detail_index_sequence    detail/index_sequence.cpp)
mpl11_add_test(detail_is_same           detail/is_same.cpp)
mpl11_add_test(detail_is_specialization detail/is_specialization.cpp)
mpl11_add_test(detail_variadic_last     detail/variadic_last.cpp)
mpl11_add_test(empty_base               empty_base.cpp)
mpl11_add_test(finite_sequence          finite_sequence.cpp)
mpl11_add_test(flip                     flip.cpp)
mpl11_add_test(forward_sequence         forward_sequence.cpp)
mpl11_add_test(identity                 identity.cpp)
mpl11_add_test(if                       if.cpp)
mpl11_add_test(inherit                  inherit.cpp)
mpl11_add_test(integral_c               integral_c.cpp)
mpl11_add_test(into                     into.cpp)
mpl11_add_test(not                      not.cpp)
mpl11_add_test(orderable                orderable.cpp)
mpl11_add_test(partial                  partial.cpp)
mpl11_add_test(quote                    quote.cpp)
mpl11_add_test(random_access_sequence   random_access_sequence.cpp)
mpl11_add_test(repeat                   repeat.cpp)
mpl11_add_test(scanl                    scanl.cpp)
mpl11_add_test(tag_of                   tag_of.cpp)
mpl11_add_test(take                     take.cpp)
mpl11_add_test(vector                   vector.cpp)
