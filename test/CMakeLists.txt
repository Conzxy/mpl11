#=============================================================================
# Setup benchmarks
#=============================================================================
add_subdirectory(benchmark)


#=============================================================================
# Setup unit tests
#=============================================================================
add_custom_target(unit COMMENT "Build all the unit tests.")

function(mpl11_add_test name sources)
    add_executable(${name} ${sources})
    add_dependencies(unit ${name})
endfunction()


mpl11_add_test(all_of                     all_of.cpp)
mpl11_add_test(always                     always.cpp)
mpl11_add_test(and                        and.cpp)
mpl11_add_test(any_of                     any_of.cpp)
mpl11_add_test(apply                      apply.cpp)
mpl11_add_test(arg                        arg.cpp)
mpl11_add_test(args                       args.cpp)
mpl11_add_test(associative_sequence       associative_sequence.cpp)
mpl11_add_test(back_extensible_container  back_extensible_container.cpp)
mpl11_add_test(bidirectional_iterator     bidirectional_iterator.cpp)
mpl11_add_test(bidirectional_sequence     bidirectional_sequence.cpp)
mpl11_add_test(class_of                   class_of.cpp)
mpl11_add_test(comparable                 comparable.cpp)
mpl11_add_test(compose                    compose.cpp)
mpl11_add_test(count                      count.cpp)
mpl11_add_test(count_if                   count_if.cpp)
mpl11_add_test(couple                     couple.cpp)
mpl11_add_test(detail_args_take           detail/args_take.cpp)
mpl11_add_test(detail_conditional         detail/conditional.cpp)
mpl11_add_test(detail_dependent_on        detail/dependent_on.cpp)
mpl11_add_test(detail_is_same             detail/is_same.cpp)
mpl11_add_test(detail_is_specialization   detail/is_specialization.cpp)
mpl11_add_test(detail_move                detail/move.cpp)
mpl11_add_test(detail_tp_conditional      detail/tp_conditional.cpp)
mpl11_add_test(detail_vector_fill         detail/vector_fill.cpp)
mpl11_add_test(directional_sequence       directional_sequence.cpp)
mpl11_add_test(empty_base                 empty_base.cpp)
mpl11_add_test(equal                      equal.cpp)
mpl11_add_test(filter                     filter.cpp)
mpl11_add_test(find                       find.cpp)
mpl11_add_test(find_if                    find_if.cpp)
mpl11_add_test(foldl                      foldl.cpp)
mpl11_add_test(foldr                      foldr.cpp)
mpl11_add_test(forward_iterator           forward_iterator.cpp)
mpl11_add_test(front_extensible_container front_extensible_container.cpp)
mpl11_add_test(has_optimization           has_optimization.cpp)
mpl11_add_test(hset                       hset.cpp)
mpl11_add_test(identity                   identity.cpp)
mpl11_add_test(if                         if.cpp)
mpl11_add_test(imap                       imap.cpp)
mpl11_add_test(integral_c                 integral_c.cpp)
mpl11_add_test(into                       into.cpp)
mpl11_add_test(iterator_range             iterator_range.cpp)
mpl11_add_test(join                       join.cpp)
mpl11_add_test(let                        let.cpp)
mpl11_add_test(logical                    logical.cpp)
mpl11_add_test(master_header              master_header.cpp)
mpl11_add_test(max                        max.cpp)
mpl11_add_test(min                        min.cpp)
mpl11_add_test(none_of                    none_of.cpp)
mpl11_add_test(not                        not.cpp)
mpl11_add_test(not_equal                  not_equal.cpp)
mpl11_add_test(or                         or.cpp)
mpl11_add_test(orderable                  orderable.cpp)
mpl11_add_test(pair                       pair.cpp)
mpl11_add_test(partial                    partial.cpp)
mpl11_add_test(quote                      quote.cpp)
mpl11_add_test(random_access_sequence     random_access_sequence.cpp)
mpl11_add_test(sequence                   sequence.cpp)
mpl11_add_test(transform                  transform.cpp)
mpl11_add_test(unpack                     unpack.cpp)
mpl11_add_test(vector                     vector.cpp)
